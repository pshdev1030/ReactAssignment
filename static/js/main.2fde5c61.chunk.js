(this.webpackJsonpmbti=this.webpackJsonpmbti||[]).push([[0],{68:function(e,t,n){},69:function(e,t,n){"use strict";n.r(t);var r,c,a,o=n(0),i=n(12),s=n.n(i),u=n(3),l=n(10),j=n(4),d=n(2),b=n.n(d),p=n(7),f=n(11),O=n(6),h=function(e){var t=e.root,n=void 0===t?null:t,r=e.target,c=e.onIntersect,a=e.threshold,i=void 0===a?1:a,s=e.rootMargin,u=void 0===s?"0px":s;Object(o.useEffect)((function(){if(r){var e=new IntersectionObserver(c,{root:n,rootMargin:u,threshold:i});return e.observe(r),function(){e.disconnect()}}}),[r,n,u,c,i])},x=n(1),g=j.a.div(r||(r=Object(u.a)(["\ndisplay:flex;\nflex-basis:300px;\nflex-flow:column wrap; \nmargin: 20px 20px;\nalign-items:center;\njustify-content:center;\nborder:2px solid grey;\nborder-radius:10px;\n"]))),m=j.a.button(c||(c=Object(u.a)(["\npadding:10px;\nwidth: 80%;\nmargin-top:10px;\ncolor:white;\nbackground-color:skyblue;\nborder:none;\n"]))),v=j.a.div(a||(a=Object(u.a)(["\ntext-align:center\n"])));function C(e){var t=e.data,n=e.onClick,r=e.dataRef;return Object(x.jsxs)(x.Fragment,{children:[t.map((function(e){return Object(x.jsxs)(g,{children:[Object(x.jsxs)(v,{children:[Object(x.jsx)("strong",{children:"\uad6d\uac00 \uc774\ub984 :"}),e.name]}),Object(x.jsxs)(v,{children:[Object(x.jsx)("strong",{children:"\uad6d\uac00 \ucf54\ub4dc :"}),e.alpha2Code]}),Object(x.jsxs)(v,{children:[Object(x.jsx)("strong",{children:"\uc218\ub3c4 :"}),e.capital]}),Object(x.jsxs)(v,{children:[Object(x.jsx)("strong",{children:"\uc9c0\uc5ed :"}),e.region]}),Object(x.jsxs)(v,{children:[Object(x.jsx)("strong",{children:"\uc9c0\uc5ed\ucf54\ub4dc :"}),e.callingCodes]}),Object(x.jsx)(m,{onClick:n,"data-key":e.alpha2Code+e.capital,children:"\uc0ad\uc81c"})]},e.alpha2Code+e.capital)})),Object(x.jsx)("div",{ref:r})]})}var y,w=n(9),k=n(35),R=n.n(k),S={loading:!0,countries:[],error:!1,isShow:!1,search:"",searchCountries:[]},U="COUNTRY/LOADING_SUCCESS",E="COUNTRY/LOADING_FAIL",T="COUNTRY/ADD",I="COUNTRY/DELETE",N="COUNTRY/SEARCH",A=function(e,t){return function(n,r){return r().countries.some((function(n){return n[t]===e[t]}))}},D=function(e){return{type:U,data:e}},L=function(e){return{type:E,error:e}},Y=function(e){return function(t,n){if(""===e)t({type:N,input:e,countries:[]});else{var r=n().countries,c=e.toUpperCase(),a=r.reduce((function(e,t){return(t.alpha2Code.toUpperCase().includes(c)||t.callingCodes.join("").includes(c)||t.capital.toUpperCase().includes(c)||t.name.toUpperCase().includes(c)||t.region.toUpperCase().includes(c))&&e.push(t),e}),[]);console.log(a),t({type:N,input:e,countries:a})}}},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return Object(w.a)(Object(w.a)({},e),{},{loading:!1,countries:t.data,error:!1});case E:return Object(w.a)(Object(w.a)({},e),{},{loading:!1,countries:null,error:t.error});case T:return Object(w.a)(Object(w.a)({},e),{},{countries:e.countries.concat(t.Country)});case I:return Object(w.a)(Object(w.a)({},e),{},{countries:e.countries.filter((function(e){return e.alpha2Code+e.capital!==t.key}))});case N:return Object(w.a)(Object(w.a)({},e),{},{searchCountries:t.countries,search:t.input});default:return e}};function F(){var e=Object(O.c)((function(e){return e.loading})),t=Object(O.c)((function(e){return e.countries})),n=Object(O.c)((function(e){return e.error})),r=Object(O.c)((function(e){return e.searchCountries})),c=Object(O.c)((function(e){return e.search}));console.log(r);var a=Object(O.b)(),i=Object(o.useState)({countrydata:[],num:0}),s=Object(f.a)(i,2),u=s[0],j=s[1],d=u.countrydata,g=u.num,m=Object(o.useRef)(null),v=function(){var e=Object(p.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(function(){var e=Object(p.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.a.get("https://restcountries.eu/rest/v2/all?fields=alpha2Code;capital;name;region;callingCodes");case 3:n=e.sent,t(D(n.data)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t(L(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}());case 2:y();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){g+30>=t.length?j((function(e){return{countrydata:t,num:t.length}})):j((function(e){return{countrydata:t.slice(0,e.num+30),num:e.num+30}}))},w=function(e){var t;a((t=e.target.dataset.key,{type:I,key:t})),j((function(t){return{countrydata:d.filter((function(t){return t.alpha2Code+t.capital!==e.target.dataset.key})),num:t.num-1}})),l.b.info("\uad6d\uac00\ub97c \uc0ad\uc81c\ud558\uc600\uc2b5\ub2c8\ub2e4.")};return Object(o.useEffect)((function(){v()}),[]),h({target:m.current,threshold:1,onIntersect:function(n){Object(f.a)(n,1)[0].isIntersecting&&!e&&g!==t.length&&y()}}),e?Object(x.jsx)("div",{children:"Loading..."}):n?Object(x.jsx)("div",{children:"Error"}):e?void 0:Object(x.jsxs)(B,{children:[c?Object(x.jsx)(C,{data:r,onClick:w,dataRef:m}):Object(x.jsx)(C,{data:d,onClick:w,dataRef:m}),Object(x.jsx)(l.a,{autoClose:"3000"})]})}var G,J,_,B=j.a.div(y||(y=Object(u.a)(["\ndisplay:flex;\nflex-wrap:wrap;\nalign-items:center;\njustify-content:center;\nheight:60vh;\n"]))),H=n(18);n(67);var W,q,z,K=j.a.input(G||(G=Object(u.a)(["\npadding:8px;\nmargin:8px;\nborder:2px solid grey;\nborder-radius:10px;\n"]))),P=j.a.form(J||(J=Object(u.a)(["\nmargin-bottom:3vh;\n"]))),Q=j.a.input(_||(_=Object(u.a)(["\npadding:8px;\nmargin:8px;\nborder:none;\n"]))),V=function(){var e=Object(H.a)(),t=e.register,n=e.handleSubmit,r=e.reset,c=Object(O.b)();return Object(x.jsxs)(P,{onSubmit:n((function(e){var t=0;for(var n in e){""===e[n]&&t++}if(0===t){var a=[{err:c(A(e,"name")),type:"\uc774\ub984"},{err:c(A(e,"alpha2Code")),type:"\uad6d\uac00 \ucf54\ub4dc"}],o=a.filter((function(e){return!0===e.err}));if(o.length!==a.length){if(o.length>0)return console.log(o),void l.b.error("".concat(o[0].type,"\uc774(\uac00) \uc911\ubcf5\uc778 \ub098\ub77c\uac00 \uc874\uc7ac\ud569\ub2c8\ub2e4."));c({type:T,Country:e}),r()}else l.b.error("\uc774\ub984\uacfc \uad6d\uac00\ucf54\ub4dc\uc774(\uac00) \uc911\ubcf5\uc778 \ub098\ub77c\uac00 \uc874\uc7ac\ud569\ub2c8\ub2e4.")}else l.b.error("\ubaa8\ub4e0 \uac12\uc744 \uc785\ub825\ud574\uc57c \ud569\ub2c8\ub2e4.")})),children:[Object(x.jsx)(K,{name:"name",placeholder:"\uc774\ub984(Name)",ref:t()}),Object(x.jsx)(K,{name:"alpha2Code",placeholder:"\uad6d\uac00\ucf54\ub4dc(Alpha2Code)",ref:t()}),Object(x.jsx)(K,{name:"capital",placeholder:"\uc218\ub3c4(Capital)",ref:t()}),Object(x.jsx)(K,{name:"region",placeholder:"\uc9c0\uc5ed(Region)",ref:t()}),Object(x.jsx)(K,{name:"callingCodes",placeholder:"\uc9c0\uc5ed\ucf54\ub4dc(CallingCodes)",ref:t()}),Object(x.jsx)(Q,{type:"submit",value:"\uc81c\ucd9c\ud558\uae30"})]})};function X(){var e=Object(O.b)(),t=Object(H.a)(),n=t.register,r=t.handleSubmit,c=Object(o.useRef)(null);return Object(x.jsxs)(te,{onSubmit:r((function(t){e(Y(t.input))})),children:[Object(x.jsx)(ee,{name:"input",ref:n(),onChange:function(t){c.current&&clearTimeout(c.current),c.current=setTimeout((function(){e(Y(t.target.value))}),500)}}),Object(x.jsx)(ne,{type:"submit"})]})}var Z,$,ee=j.a.input(W||(W=Object(u.a)(["\n"]))),te=j.a.form(q||(q=Object(u.a)(["\ndisplay:flex;\n"]))),ne=j.a.input(z||(z=Object(u.a)(["\n"])));var re=j.a.div(Z||(Z=Object(u.a)(["\ndisplay:flex;\nflex-flow:column;\nalign-items:center;\njustify-content:center;\nwidth:85vw;\n"]))),ce=(j.a.div($||($=Object(u.a)(["\n\n"]))),function(){return Object(x.jsxs)(re,{children:[Object(x.jsx)(X,{}),Object(x.jsx)(V,{}),Object(x.jsx)(F,{}),Object(x.jsx)(l.a,{autoClose:"3000"})]})}),ae=(n(68),n(15)),oe=n(36),ie=n(37),se=Object(ae.createStore)(M,Object(ie.composeWithDevTools)(Object(ae.applyMiddleware)(oe.a)));s.a.render(Object(x.jsx)(O.a,{store:se,children:Object(x.jsx)(ce,{})}),document.getElementById("root"))}},[[69,1,2]]]);
//# sourceMappingURL=main.2fde5c61.chunk.js.map